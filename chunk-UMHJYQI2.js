import{$a as b,Ab as z,Bb as B,Ca as M,Cb as q,Db as N,Eb as L,Fb as A,Gb as D,Hb as j,Ib as G,Ja as u,Jb as R,Ka as y,Kb as Z,La as t,Lb as U,Ma as i,Mb as H,Na as S,Nb as K,Oa as w,Pa as _,Qa as d,Ua as n,V as s,Va as g,W as p,Wa as V,Xa as x,Ya as f,Za as C,_a as h,ab as v,oa as P,qa as o,qb as I,rb as W,sb as F,tb as T,ua as O,za as E}from"./chunk-UEXAWANV.js";var k=c=>[c,"EUR","symbol","1.2-2","de"];function J(c,a){c&1&&(t(0,"div",10),n(1,"Ihr Warenkorb ist leer."),i())}function X(c,a){if(c&1){let e=w();t(0,"div",11),S(1,"img",12),t(2,"div",13)(3,"h4"),n(4),i(),t(5,"p"),n(6),i(),t(7,"span",14),n(8),i(),t(9,"div",15),n(10),b(11,"currency"),i(),t(12,"div"),n(13,"Menge: "),t(14,"input",16),C("ngModelChange",function(r){let m=s(e).$implicit;return f(m.quantity,r)||(m.quantity=r),p(r)}),_("ngModelChange",function(){let r=s(e).$implicit,m=d(2);return p(m.updateQuantity(r,r.quantity))}),i()(),t(15,"button",17),_("click",function(){let r=s(e).$implicit,m=d(2);return p(m.remove(r.wine.id))}),n(16,"Entfernen"),i()()()}if(c&2){let e=a.$implicit;o(),u("src",e.wine.image,P)("alt",e.wine.name),o(3),g(e.wine.name),o(2),g(e.wine.description),o(2),g(e.wine.category),o(2),g(v(11,7,h(13,k,e.wine.price))),o(4),x("ngModel",e.quantity)}}function Y(c,a){if(c&1&&(t(0,"div",18)(1,"div"),n(2,"Gesamtsumme: "),t(3,"strong"),n(4),b(5,"currency"),i()()()),c&2){let e=d(2);o(4),g(v(5,1,h(7,k,e.total)))}}function $(c,a){if(c&1){let e=w();t(0,"div")(1,"h2"),n(2,"Warenkorb"),i(),M(3,J,2,0,"div",4)(4,X,17,15,"div",5)(5,Y,6,9,"div",6),t(6,"div",7)(7,"button",8),_("click",function(){s(e);let r=d();return p(r.clearCart())}),n(8,"Warenkorb leeren"),i(),t(9,"button",9),_("click",function(){s(e);let r=d();return p(r.nextStep())}),n(10,"Weiter"),i()()()}if(c&2){let e=d();o(3),u("ngIf",e.items.length===0),o(),u("ngForOf",e.items),o(),u("ngIf",e.items.length>0),o(4),u("disabled",!e.canContinueFromCart())}}function ee(c,a){if(c&1){let e=w();t(0,"form",19),_("ngSubmit",function(){s(e);let r=d();return p(r.nextStep())}),t(1,"h2"),n(2,"Lieferadresse"),i(),t(3,"label"),n(4,"Name: "),t(5,"input",20),C("ngModelChange",function(r){s(e);let m=d();return f(m.name,r)||(m.name=r),p(r)}),i()(),t(6,"label"),n(7,"E-Mail: "),t(8,"input",21),C("ngModelChange",function(r){s(e);let m=d();return f(m.email,r)||(m.email=r),p(r)}),i()(),t(9,"label"),n(10,"Adresse: "),t(11,"input",22),C("ngModelChange",function(r){s(e);let m=d();return f(m.address,r)||(m.address=r),p(r)}),i()(),t(12,"label"),n(13,"Lieferung: "),t(14,"select",23),C("ngModelChange",function(r){s(e);let m=d();return f(m.delivery,r)||(m.delivery=r),p(r)}),t(15,"option",24),n(16,"- bitte w\xE4hlen -"),i(),t(17,"option",25),n(18,"DHL-Paket"),i(),t(19,"option",26),n(20,"Abholung im Weingut"),i()()(),t(21,"label"),n(22,"Zahlungsart: "),t(23,"select",27),C("ngModelChange",function(r){s(e);let m=d();return f(m.payment,r)||(m.payment=r),p(r)}),t(24,"option",24),n(25,"- bitte w\xE4hlen -"),i(),t(26,"option",28),n(27,"Rechnung"),i(),t(28,"option",29),n(29,"Vorkasse"),i()()(),t(30,"div",7)(31,"button",8),_("click",function(){s(e);let r=d();return p(r.prevStep())}),n(32,"Zur\xFCck"),i(),t(33,"button",30),n(34,"Weiter"),i()()()}if(c&2){let e=d();o(5),x("ngModel",e.name),o(3),x("ngModel",e.email),o(3),x("ngModel",e.address),o(3),x("ngModel",e.delivery),o(9),x("ngModel",e.payment),o(10),u("disabled",!e.canContinueFromAddress())}}function te(c,a){c&1&&(t(0,"div",32)(1,"div",33),n(2,"zzgl. Versandkosten"),i(),t(3,"div",34),n(4,"\u20AC 7,50"),i()())}function ne(c,a){if(c&1){let e=w();t(0,"div")(1,"h2"),n(2,"Bestell\xFCbersicht"),i(),t(3,"div",31)(4,"div",32)(5,"div",33),n(6),i(),t(7,"div",34),n(8),b(9,"currency"),i()(),t(10,"div",32)(11,"div",33),n(12,"Lieferung"),i(),t(13,"div",34),n(14),i()(),M(15,te,5,0,"div",35),t(16,"div",32)(17,"div",33),n(18,"Lieferzeit"),i(),t(19,"div",34),n(20,"2-8 Werktage"),i()(),t(21,"div",32)(22,"div",33),n(23,"Zahlungsart"),i(),t(24,"div",34),n(25),i()(),t(26,"div",32)(27,"div",33),n(28,"Inkl. 19% MwSt."),i(),t(29,"div",34),n(30),b(31,"currency"),i()(),t(32,"div",36)(33,"div",33),n(34,"Gesamtpreis zu zahlen"),i(),t(35,"div",34),n(36),b(37,"currency"),i()()(),t(38,"div",7)(39,"button",8),_("click",function(){s(e);let r=d();return p(r.prevStep())}),n(40,"Zur\xFCck"),i(),t(41,"button",37),_("click",function(){s(e);let r=d();return p(r.submitOrder())}),n(42,"Kostenpflichtig bestellen"),i()()()}if(c&2){let e=d();o(6),V("Gesamtpreis Ware (",e.getBottleCount()," Flaschen)"),o(2),g(v(9,7,h(25,k,e.total))),o(6),g(e.delivery==="abholung"?"Abholung":"DHL-Paket"),o(),u("ngIf",e.delivery==="dhl"),o(10),g(e.payment?e.payment==="rechnung"?"Rechnung":"Vorkasse":"- bitte w\xE4hlen -"),o(5),g(v(31,13,h(27,k,e.getMwst()))),o(6),g(v(37,19,h(29,k,e.getTotalWithShipping())))}}function ie(c,a){c&1&&(t(0,"div")(1,"h2"),n(2,"Vielen Dank f\xFCr Ihre Bestellung!"),i(),t(3,"div",38),n(4," Ihre Bestellung wurde erfolgreich \xFCbermittelt."),S(5,"br"),n(6," Sie erhalten in K\xFCrze eine Best\xE4tigung per E-Mail."),S(7,"br"),n(8," Wir w\xFCnschen Ihnen viel Freude mit unseren Weinen! "),i()())}var Q=class c{constructor(a){this.cart=a;this.items=this.cart.getItems()}step=1;name="";email="";address="";delivery="";payment="";orderSent=!1;items=[];nextStep(){this.step<4&&this.step++}prevStep(){this.step>1&&this.step--}goToStep(a){this.step=a}remove(a){this.cart.removeFromCart(a),this.items=this.cart.getItems()}updateQuantity(a,e){e<1||(a.quantity=e,this.cart.removeFromCart(a.wine.id),this.cart.addToCart(a.wine,e),this.items=this.cart.getItems())}clearCart(){this.cart.clearCart(),this.items=[]}get total(){return this.items.reduce((a,e)=>a+e.wine.price*e.quantity,0)}getBottleCount(){return this.items.reduce((a,e)=>a+e.quantity,0)}getMwst(){return this.total*.19}getTotalWithShipping(){let a=this.total;return this.delivery==="dhl"&&(a+=7.5),a}canContinueFromCart(){return this.items.length>0}canContinueFromAddress(){return this.name&&this.email&&this.address&&this.delivery&&this.payment}submitOrder(){this.orderSent=!0,this.clearCart(),this.nextStep()}static \u0275fac=function(e){return new(e||c)(O(K))};static \u0275cmp=E({type:c,selectors:[["app-checkout"]],decls:14,vars:12,consts:[[1,"checkout-container"],[1,"checkout-tabs"],[4,"ngIf"],[3,"ngSubmit",4,"ngIf"],["class","empty-cart",4,"ngIf"],["class","cart-item",4,"ngFor","ngForOf"],["class","cart-summary",4,"ngIf"],[1,"checkout-actions"],["type","button",1,"clear-btn",3,"click"],["type","button",1,"next-btn",3,"click","disabled"],[1,"empty-cart"],[1,"cart-item"],[3,"src","alt"],[1,"cart-item-details"],[1,"category"],[1,"price"],["type","number","min","1",1,"qty-input",3,"ngModelChange","ngModel"],[3,"click"],[1,"cart-summary"],[3,"ngSubmit"],["name","name","required","",3,"ngModelChange","ngModel"],["name","email","required","","type","email",3,"ngModelChange","ngModel"],["name","address","required","",3,"ngModelChange","ngModel"],["name","delivery","required","",3,"ngModelChange","ngModel"],["value",""],["value","dhl"],["value","abholung"],["name","payment","required","",3,"ngModelChange","ngModel"],["value","rechnung"],["value","vorkasse"],["type","submit",1,"next-btn",3,"disabled"],[1,"checkout-summary"],[1,"summary-block"],[1,"summary-label"],[1,"summary-value"],["class","summary-block",4,"ngIf"],[1,"summary-block","total"],["type","button",1,"next-btn",3,"click"],[1,"success"]],template:function(e,l){e&1&&(t(0,"div",0)(1,"div",1)(2,"div"),n(3,"1. Warenkorb"),i(),t(4,"div"),n(5,"2. Adresse"),i(),t(6,"div"),n(7,"3. \xDCbersicht"),i(),t(8,"div"),n(9,"4. Danke"),i()(),M(10,$,11,4,"div",2)(11,ee,35,6,"form",3)(12,ne,43,31,"div",2)(13,ie,9,0,"div",2),i()),e&2&&(o(2),y("active",l.step===1),o(2),y("active",l.step===2),o(2),y("active",l.step===3),o(2),y("active",l.step===4),o(2),u("ngIf",l.step===1),o(),u("ngIf",l.step===2),o(),u("ngIf",l.step===3),o(),u("ngIf",l.step===4))},dependencies:[T,I,W,F,H,A,G,R,z,D,j,B,q,U,Z,L,N],styles:[`.checkout-container[_ngcontent-%COMP%]{max-width:500px;margin:2.5rem auto;padding:2rem;background:#fff;border-radius:1.5rem;box-shadow:0 4px 32px #00000014,0 1.5px 6px #00000008;font-family:Inter,Segoe UI,Arial,sans-serif}.checkout-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#a8325e;font-size:2rem;font-weight:700;margin-bottom:1.5rem}form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.2rem}label[_ngcontent-%COMP%]{font-size:1rem;color:#a8325e;font-weight:500;display:flex;flex-direction:column;gap:.3rem}input[type=text][_ngcontent-%COMP%], input[type=email][_ngcontent-%COMP%], select[_ngcontent-%COMP%]{padding:.9rem 1.2rem;border:1.5px solid #e0e0e0;border-radius:1.2rem;font-size:1.08rem;background:#faf9f6;transition:border .2s,box-shadow .2s;margin-top:.2rem;box-shadow:0 1px 4px #a8325e0a}input[type=text][_ngcontent-%COMP%]:focus, input[type=email][_ngcontent-%COMP%]:focus, select[_ngcontent-%COMP%]:focus{border:1.5px solid #a8325e;outline:none;background:#fff;box-shadow:0 2px 8px #a8325e1a}select[_ngcontent-%COMP%]{color:#444;appearance:none;-webkit-appearance:none;-moz-appearance:none;background-image:url("data:image/svg+xml,%3Csvg width='16' height='16' fill='gray' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M4 6l4 4 4-4'/%3E%3C/svg%3E");background-repeat:no-repeat;background-position:right 1rem center;background-size:1.2em}button[type=submit][_ngcontent-%COMP%]{margin-top:1rem;background:linear-gradient(90deg,#a8325e 60%,#e96443);color:#fff;border:none;border-radius:2rem;padding:.6rem 1.5rem;font-size:1rem;font-weight:500;cursor:pointer;box-shadow:0 1px 4px #a8325e14;transition:background .2s,transform .2s}button[type=submit][_ngcontent-%COMP%]:hover{background:linear-gradient(90deg,#e96443 60%,#a8325e);transform:scale(1.06)}.success[_ngcontent-%COMP%]{margin-top:1.5rem;color:#2e7d32;font-weight:600;background:#eafbe7;border-radius:1rem;padding:1rem;text-align:center}.checkout-row[_ngcontent-%COMP%]{display:flex;gap:2rem}.checkout-col[_ngcontent-%COMP%]{flex:1 1 250px;display:flex;flex-direction:column;gap:1.2rem}.checkout-summary[_ngcontent-%COMP%]{flex:1 1 220px;background:#faf9f6;border-radius:1.2rem;padding:1.2rem 1.5rem;box-shadow:0 1px 8px #a8325e12;display:flex;flex-direction:column;gap:.7rem;min-width:220px}.summary-block[_ngcontent-%COMP%]{display:flex;justify-content:space-between;font-size:1.05rem;margin-bottom:.2rem}.summary-block.total[_ngcontent-%COMP%]{font-size:1.18rem;font-weight:700;color:#a8325e;margin-top:1.2rem}.summary-label[_ngcontent-%COMP%]{color:#444}.summary-value[_ngcontent-%COMP%]{color:#222}.checkout-actions[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:2.2rem;gap:1.5rem}.clear-btn[_ngcontent-%COMP%]{background:#fff;color:#a8325e;border:1.5px solid #a8325e;border-radius:2rem;padding:.6rem 1.5rem;font-size:1rem;font-weight:500;cursor:pointer;transition:background .2s,color .2s}.clear-btn[_ngcontent-%COMP%]:hover{background:#a8325e;color:#fff}.next-btn[_ngcontent-%COMP%]{background:linear-gradient(90deg,#a8325e 60%,#e96443);color:#fff;border:none;border-radius:2rem;padding:.7rem 2.2rem;font-size:1.15rem;font-weight:600;cursor:pointer;box-shadow:0 1px 8px #a8325e1a;transition:background .2s,transform .2s}.next-btn[_ngcontent-%COMP%]:disabled{background:#e0e0e0;color:#aaa;cursor:not-allowed}.next-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:linear-gradient(90deg,#e96443 60%,#a8325e);transform:scale(1.06)}.checkout-tabs[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-between;margin-bottom:2rem;border-bottom:2px solid #f0e0e6}.checkout-tabs[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{flex:1 1 120px;min-width:120px;text-align:center;padding:.8rem 0;font-size:1.1rem;color:#a8325e;font-weight:500;border-bottom:3px solid transparent;background:#faf9f6;cursor:pointer;transition:border .2s,background .2s;white-space:nowrap}.checkout-tabs[_ngcontent-%COMP%] > div.active[_ngcontent-%COMP%]{border-bottom:3px solid #a8325e;background:#fff;color:#e96443}@media (max-width: 600px){.checkout-tabs[_ngcontent-%COMP%]{flex-direction:column;gap:.2rem}.checkout-tabs[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{min-width:0;font-size:1rem;padding:.6rem 0}}.cart-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1.5rem;margin-bottom:1.5rem;padding-bottom:1.5rem;border-bottom:1px solid #f0e0e6}.cart-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:80px;height:120px;object-fit:cover;border-radius:.75rem;background:#f8f6f3;box-shadow:0 2px 8px #a8325e14}.cart-item-details[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.2rem}.cart-item[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 .2rem;color:#a8325e;font-size:1.1rem;font-weight:600}.cart-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:1rem;color:#444}.cart-item[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:.5rem;background:linear-gradient(90deg,#a8325e 60%,#e96443);color:#fff;border:none;border-radius:2rem;padding:.4rem 1.2rem;font-size:1rem;font-weight:500;cursor:pointer;box-shadow:0 1px 4px #a8325e14;transition:background .2s,transform .2s}.cart-item[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:linear-gradient(90deg,#e96443 60%,#a8325e);transform:scale(1.06)}.qty-input[_ngcontent-%COMP%]{width:3.2rem;padding:.3rem .5rem;border:1px solid #e0e0e0;border-radius:1rem;font-size:1rem;text-align:center;background:#faf9f6;margin-left:.5rem}.qty-input[_ngcontent-%COMP%]:focus{border:1.5px solid #a8325e;outline:none}@media (max-width: 700px){.checkout-container[_ngcontent-%COMP%]{padding:1rem}}@media (max-width: 900px){.checkout-row[_ngcontent-%COMP%]{flex-direction:column;gap:1.5rem}.checkout-summary[_ngcontent-%COMP%]{min-width:0;width:100%}}`]})};export{Q as CheckoutComponent};
